@page "/checkouttrip/{id:int}"
@inject HttpClient httpClient
@inject IJSRuntime js
@inject NavigationManager Navigation


<MudContainer MaxWidth="MaxWidth.Medium" Class="mt-8 mb-5">
    <MudPaper Class="p-5 mud-elevation-2">
        <MudStack Direction="StackDirection.Column" AlignItems="AlignItems.Center" JustifyContent="center" Spacing="1">
            <MudIcon Icon="@Icons.Material.Outlined.Description" Size="Size.Large" Color="Color.Primary" />
            <MudText Typo="Typo.h4" Align="Align.Center" Class="font-weight-bold">
                THANH TOÁN
            </MudText>
            <MudText Typo="Typo.subtitle1" Align="Align.Center" Color="Color.Secondary">
                Vui lòng kiểm tra thông tin Khách hàng, thông tin vé xe trước khi đặt vé
            </MudText>
        </MudStack>
        <MudGrid Spacing="4" Class="mt-4">
            <MudItem xs="12" md="6">
                <MudPaper Class="p-4 mud-elevation-1" Style="min-height: 300px;">
                    <MudText Typo="Typo.h5" Class="mb-3 font-weight-bold">
                        Thông Tin Khách Hàng
                    </MudText>

                    <MudInputLabel Class="font-weight-bold">Họ Tên</MudInputLabel>
                    <MudText Class="mt-1 font-weight-bold">@bill.cus_name</MudText>

                    <MudInputLabel Class="font-weight-bold mt-2">Điện Thoại</MudInputLabel>
                    <MudText Class="mt-1 font-weight-bold">@bill.phone_number</MudText>

                       <MudInputLabel Class="font-weight-bold mt-2">Email</MudInputLabel>
                    <MudText Class="mt-1 font-weight-bold">@bill.email</MudText>
                </MudPaper>
            </MudItem>

            <MudItem xs="12" md="6">
                <MudPaper Class="p-4 mud-elevation-1" Style="min-height: 300px;">
                    <MudText Typo="Typo.h5" Class="font-weight-bold mb-3" Color="Color.Primary">
                        Thông tin vé
                    </MudText>

                    <MudStack Spacing="1">
                        <MudGrid>
                            <MudItem xs="6">
                                <MudText Typo="Typo.body1"><b>Tuyến xe</b></MudText>
                                <MudText Typo="Typo.body1"><b>Thời gian đi</b></MudText>
                                <MudText Typo="Typo.body1"><b>Thời gian về</b></MudText>
                                <MudText Typo="Typo.body1"><b>Số lượng ghế</b></MudText>
                                <MudText Typo="Typo.body1"><b>Số ghế lượt đi</b></MudText>
                                <MudText Typo="Typo.body1"><b>Số ghế lượt về</b></MudText>
                                <MudText Typo="Typo.body1"><b>Điểm lên xe</b></MudText>
                                <MudText Typo="Typo.body1"><b>Thời gian tới điểm lên xe</b></MudText>
                                <MudText Typo="Typo.body1"><b>Điểm trả khách</b></MudText>
                                <MudText Typo="Typo.body1"><b>Điểm quay về</b></MudText>
                                <MudText Typo="Typo.body1"><b>Thời gian tới điểm lên xe</b></MudText>
                                <MudText Typo="Typo.body1"><b>Điểm trả khách</b></MudText>
                                <MudText Typo="Typo.body1"><b>Tổng tiền lượt đi</b></MudText>
                            </MudItem>
                            <MudItem xs="6">
                                <MudText Typo="Typo.body1">@bill.location_from - @bill.location_to</MudText>
                                <MudText Typo="Typo.body1">@bill.time_start</MudText>
                                <MudText Typo="Typo.body1">@bill.time_end</MudText>
                                <MudText Typo="Typo.body1"></MudText>
                                <MudText Typo="Typo.body1">B08</MudText>
                                <MudText Typo="Typo.body1">B10</MudText>
                                <MudText Typo="Typo.body1">Đà Lạt</MudText>
                                <MudText Typo="Typo.body1">Trước 21:15 16/09/2024</MudText>
                                <MudText Typo="Typo.body1">Bến xe Miền Tây</MudText>
                                <MudText Typo="Typo.body1">Bến xe Miền Tây</MudText>
                                <MudText Typo="Typo.body1">Trước 20:15h 20/09/2024</MudText>
                                <MudText Typo="Typo.body1">Đà Lạt</MudText>
                                <MudText Typo="Typo.body1">290.000₫</MudText>
                            </MudItem>
                        </MudGrid>
                    </MudStack>

                    <MudStack Direction="Row" AlignItems="AlignItems.Center" JustifyContent="start" Class="mt-4">
                        <MudButton Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large">
                            Thanh Toán
                        </MudButton>
                    </MudStack>
                </MudPaper>
            </MudItem>
        </MudGrid>
    </MudPaper>
</MudContainer>

@code {
    [Parameter] public int id { get; set; }

    private guest_trip bill = new guest_trip();
    private string url = "http://localhost:49922/api/GuestTrip";

    protected override async Task OnInitializedAsync()
    {
        var Response = await httpClient.GetFromJsonAsync<guest_trip>($"{url}/{id}");
        bill = Response;
    }

}
