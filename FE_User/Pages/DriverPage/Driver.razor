@page "/getdriver"
@using MudBlazor
@inject HttpClient httpClient

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-5 mb-5">
    <MudGrid>
        <!-- Phần bên trái: Nav menu -->
        <MudItem xs="3">
            <MudPaper Width="300px" Class="d-inline-flex p-3" Elevation="0">
                <MudNavMenu Dense="true" Rounded="true" Class="mud-width-full">
                    <MudTextField T="string" Placeholder="Tìm kiếm tài xế xe..." Variant="Variant.Outlined" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" Class="mb-4" />
                    <MudDivider Class="my-2" />

                    <MudNavGroup Title="Chọn tài xế" Icon="" Expanded="false">
                        <MudNavLink Href="/users" Icon="" IconColor="Color.Success">Xe thể thao</MudNavLink>
                        <MudNavLink Href="/security" Icon="" IconColor="Color.Info">Xe du lịch</MudNavLink>
                    </MudNavGroup>

                    <MudNavGroup Title="Chọn loại hộp số" Icon="" Expanded="false">
                        <MudNavLink Href="/users" Icon="" IconColor="Color.Success">Số tự động</MudNavLink>
                        <MudNavLink Href="/security" Icon="" IconColor="Color.Info">Số sàn</MudNavLink>
                    </MudNavGroup>

                    <MudNavGroup Title="Chọn hãng xe" Icon="" Expanded="false">
                        <MudNavLink Href="/users" Icon="" IconColor="Color.Success">Honda</MudNavLink>
                        <MudNavLink Href="/security" Icon="" IconColor="Color.Info">Mazda</MudNavLink>
                    </MudNavGroup>

                    <MudNavGroup Title="Chọn thành phố" Icon="" Expanded="false">
                        <MudNavLink Href="/users" Icon="" IconColor="Color.Success">Cần Thơ</MudNavLink>
                        <MudNavLink Href="/security" Icon="" IconColor="Color.Info">Cà Mau</MudNavLink>
                    </MudNavGroup>

                    <MudNavLink Href="/dashboard" Icon="">Thuê Tài Xế</MudNavLink>

                </MudNavMenu>
            </MudPaper>
        </MudItem>
        <MudItem xs="9">
            <MudGrid>
                @for (int i = 1; i <= 12; i++)
                {
                    <MudItem xs="12" sm="6" md="4" Class="mb-4">
                        <MudPaper Class="p-4" Style="padding: 1.5rem;">       
                            <img src="https://tse2.mm.bing.net/th?id=OIP.zaEMEjmTdPWy9P02dRTWkAHaIl&pid=Api&P=0&h=220" alt="Hình xe" style="width:100%; height:200px; border-radius: 15%;" class="mb-3" />
                            <MudText Typo="Typo.h6" Class="mb-1"> Lê Hoàng Thịnh</MudText>              
                            <MudItem Class="d-flex align-center">
                                <MudIcon Icon="@Icons.Material.Filled.LocalPhone" Color="Color.Info" />
                                <MudText Typo="Typo.body2" Color="Color.Secondary" Class="ml-1">0765944704</MudText>
                            </MudItem>
                            <MudItem Class="d-flex align-center">
                                <MudIcon Icon="@Icons.Material.Filled.DateRange" Color="Color.Primary" />
                                <MudText Typo="Typo.body2" Color="Color.Dark" Class="ml-1">15/12/2004</MudText>
                            </MudItem>
                            <MudItem Class="d-flex align-center">
                                <MudIcon Icon="@Icons.Material.Filled.FlutterDash" Color="Color.Default" />
                                <MudText Typo="Typo.body2" Color="Color.Tertiary" Class="ml-1">Nam</MudText>
                            </MudItem>                       
                            <MudGrid Class="mt-3"> 
                                <MudItem xs="3" Class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.BarChart" Color="Color.Success" />
                                    <MudText Typo="Typo.caption" Class="ml-1">20</MudText>
                                </MudItem>
                                <MudItem xs="9">
                                    <MudText Typo="Typo.caption" Color="Color.Error">1.000.000/Chuyến</MudText>
                                </MudItem>
                            </MudGrid>
                        </MudPaper>
                    </MudItem>
                }
            </MudGrid>
        </MudItem>
    </MudGrid>
</MudContainer>


@code {
    private IEnumerable<car> Elements = new List<car>();

    protected override async Task OnInitializedAsync()
    {
        try
        {
            Elements = await httpClient.GetFromJsonAsync<List<car>>("http://localhost:49922/api/Cars/getAllCars");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error: {ex.Message}");
        }
    }
}
