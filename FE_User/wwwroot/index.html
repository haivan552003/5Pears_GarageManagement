<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Boxcars</title>
    <base href="/" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <script src="https://unpkg.com/phosphor-icons"></script>
</head>
<style>
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255); /* M√†u tr·∫Øng v·ªõi ƒë·ªô m·ªù 50% */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999; /* ƒê·∫£m b·∫£o overlay hi·ªÉn th·ªã tr√™n c√°c th√†nh ph·∫ßn kh√°c */
    }
</style>
<body>
    <div id="app">
        <div class="loading-overlay">
            <MudItem xs="12" Class="text-center">
                <MudProgressCircular Color="Color.Primary" Size="Size.Large" Indeterminate="true" />
            </MudItem>
        </div>
    </div>

    <!--<div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>-->
    <script src="_framework/blazor.webassembly.js"></script>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>

    <script>
        // Kh·ªüi t·∫°o Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBMxGYR1UYvkfX_M7GU2XT0xGK_EQwziQQ",
            authDomain: "management-c91fe.firebaseapp.com",
            projectId: "management-c91fe",
            storageBucket: "management-c91fe.firebasestorage.app",
            messagingSenderId: "565045131532",
            appId: "1:565045131532:web:2960f59875e2190866f129",
            measurementId: "G-7C7TDVQXQ1"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // T·∫°o recaptcha ƒë·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng
        window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {
            size: 'invisible',
            callback: (response) => {
                // Recaptcha ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt, cho ph√©p g·ª≠i OTP
            }
        }, auth);

        // G·ª≠i OTP
        function sendOTP(phoneNumber) {
            const appVerifier = window.recaptchaVerifier;
            auth.signInWithPhoneNumber(phoneNumber, appVerifier)
                .then((confirmationResult) => {
                    window.confirmationResult = confirmationResult;
                }).catch((error) => {
                    console.error("C√≥ l·ªói x·∫£y ra khi g·ª≠i m√£ OTP", error);
                });
        }

        // X√°c th·ª±c OTP
        function verifyOTP(otp) {
            const confirmationResult = window.confirmationResult;
            confirmationResult.confirm(otp).then((result) => {
                // ƒêƒÉng nh·∫≠p th√†nh c√¥ng
                const user = result.user;
                console.log("ƒêƒÉng nh·∫≠p th√†nh c√¥ng v·ªõi UID:", user.uid);
            }).catch((error) => {
                console.error("X√°c th·ª±c OTP th·∫•t b·∫°i", error);
            });
        }
    </script>

</body>

</html>

